!function(a,b){"function"==typeof define&&define.amd?define(["exports"],b):b("object"==typeof exports?exports:a.commonJsStrict={})}(this,function(a){function b(a,b){return b-a}var c={config:null,images:[],init:function(a){if("object"!=typeof a)throw new Error("config is not an object");this.config=a,null!=this.config&&this.lookupImages(),this.registerService()},lookupImages:function(){var a=document.getElementsByTagName("img");if(0!=a.length)for(var b=0;b<a.length;b++)a.hasOwnProperty(b)&&a[b].getAttribute("data-srima")&&-1==this.images.indexOf(a[b])&&this.images.push(a[b])},registerService:function(){var a=this;if(0==this.images.length)throw new Error("no srima images found. skipping service startup. make sure to lookup images before starting the service");window&&(window.onresize=function(){a.loadImages()}),this.loadImages()},loadImages:function(){for(var a in this.images)if(this.images.hasOwnProperty(a)){var b=this.images[a].getAttribute("data-srima");if(this.config[b]){var c=this.getFormats(b),d=this.getClosestSize(c);this.images[a].setAttribute("src",this.config[b][d])}}},getFormats:function(a){var c=this.config[a],d=[];for(var e in c)d.push(parseInt(e));return d.sort(b)},getClosestSize:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&window.innerWidth<=a[c]&&(b=a[c]);return b}};a.srima=function(a){c.init(a)}});